{% extends "base.html" %}

{% block title %}–ü–ª–∞—Ç–µ–∂–∏ - MomsVPN Admin{% endblock %}
{% block page_title %}üí∞ –ü–ª–∞—Ç–µ–∂–∏{% endblock %}

{% block content %}
<!-- Revenue Cards -->
<div class="revenue-grid">
    <div class="revenue-card">
        <div class="revenue-label">–°–µ–≥–æ–¥–Ω—è</div>
        <div class="revenue-value">{{ revenue.today or 0 }} ‚ÇΩ</div>
    </div>
    <div class="revenue-card">
        <div class="revenue-label">–ù–µ–¥–µ–ª—è</div>
        <div class="revenue-value">{{ revenue.week or 0 }} ‚ÇΩ</div>
    </div>
    <div class="revenue-card">
        <div class="revenue-label">–ú–µ—Å—è—Ü</div>
        <div class="revenue-value">{{ revenue.month or 0 }} ‚ÇΩ</div>
    </div>
    <div class="revenue-card total">
        <div class="revenue-label">–í—Å–µ–≥–æ</div>
        <div class="revenue-value">{{ revenue.total or 0 }} ‚ÇΩ</div>
    </div>
</div>

<!-- Payments Table -->
<div class="card">
    <div class="card-header">
        <h2>–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</h2>
        <form class="filter-form" method="GET">
            <select name="status" class="filter-select" onchange="this.form.submit()">
                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                <option value="succeeded" {% if status=='succeeded' %}selected{% endif %}>–£—Å–ø–µ—à–Ω—ã–µ</option>
                <option value="pending" {% if status=='pending' %}selected{% endif %}>–û–∂–∏–¥–∞–Ω–∏–µ</option>
                <option value="canceled" {% if status=='canceled' %}selected{% endif %}>–û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ</option>
            </select>
        </form>
    </div>
    <div class="card-body">
        <table class="data-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                    <th>–°—É–º–º–∞</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th>–î–∞—Ç–∞</th>
                </tr>
            </thead>
            <tbody>
                {% for payment in payments %}
                <tr>
                    <td>{{ payment.id }}</td>
                    <td>{{ payment.user_id }}</td>
                    <td>{{ payment.amount }} ‚ÇΩ</td>
                    <td>
                        <span class="status-badge status-{{ payment.status }}">
                            {{ payment.status }}
                        </span>
                    </td>
                    <td>{{ payment.created_at }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="empty-state">
                        –ü–ª–∞—Ç–µ–∂–µ–π –ø–æ–∫–∞ –Ω–µ—Ç
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}